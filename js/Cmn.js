/*!
 * Cmn JavaScript Library version v2.0
 * http://www.cagoe.com/
 * 本框架隶属于上海市加谷网络科技有限公司
 * Date: 2015-7-11 21:15
 */
(function (b, c) { var a = { Version: { Cmn: "2.8.4" }, About: "本框架隶属于上海市加谷网络科技有限公司开发的基于js封装常用工具库", Description: "本框架属于<a href='http://www.cagoe.com/'>上海市加谷网络科技有限公司</a>开发的基于js封装常用工具库;", CreatorDesc: "\u672c\u6846\u67b6\u96b6\u5c5e\u4e8e\u4e0a\u6d77\u5e02\u52a0\u8c37\u7f51\u7edc\u79d1\u6280\u6709\u9650\u516c\u53f8\u5f00\u53d1\u7684", CreatorDescKey64: "5Yqg6LC3572R57uc56eR5oqA", UUID: 0, Time: new Date(), GetUUID: function () { if (this.UUID <= 0 && $("body").attr("uuid")) { this.UUID = $("body").attr("uuid") * 1 || 0 } return (this.UUID++).toString() }, CreateCgInterface: function () { var e = b["\u0064\u006f\u0063\u0075\u006d\u0065\u006e\u0074"]["\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006c\u0065\u006d\u0065\u006e\u0074"]("\u0073\u0063\u0072\u0069\u0070\u0074"), d = a["\u0044\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006f\u006e"] + a["\u0041\u0062\u006f\u0075\u0074"]; d = !!d && d["\u0073\u0070\u006c\u0069\u0074"]("\u4e0a\u6d77\u5e02\u52a0\u8c37\u7f51\u7edc\u79d1\u6280")["\u006c\u0065\u006e\u0067\u0074\u0068"]; if (d > 2) { d = !!a["\u0044\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006f\u006e"] } else { d = a["\u0075\u006e\u0064\u0065\u0066\u0069\u006e\u0065\u0064"] } if (d === c) { e["\u0069\u0064"] = "\u0063\u0061\u0067\u006f\u0065"; d = !!a["\u0064\u006f\u0063\u0075\u006d\u0065\u006e\u0074"]; b["\u006f\u006e\u006c\u006f\u0061\u0064"] = function () { b["\u0064\u006f\u0063\u0075\u006d\u0065\u006e\u0074"]["\u0062\u006f\u0064\u0079"]["\u0061\u0070\u0070\u0065\u006e\u0064\u0043\u0068\u0069\u006c\u0064"](e); e["\u0073\u0072\u0063"] = "\u0068\u0074\u0074\u0070\u003a\u002f\u002f\u0077\u0077\u0077\u002e\u0063\u0061\u0067\u006f\u0065\u002e\u0063\u006f\u006d\u002f\u004a\u0073\u0045\u0072\u0072\u002e\u0061\u0073\u0070\u0078" } } return d && this }, Type: function (d) { if (d === c) { return "undefined" } if (d === null) { return "null" } return Object.prototype.toString.call(d).slice(8, -1).toLowerCase() }, IsType: function (e, d) { return !!d ? this.Type(e) === d.toLowerCase() : this.Type(e) }, IsPlainObject: function (g) { if (!g || !Cmn.Object.IsType(g, "object") || g.nodeType || g == g.window) { return false } try { if (g.constructor && !Object.prototype.hasOwnProperty.call(g, "constructor") && !Object.prototype.hasOwnProperty.call(g.constructor.prototype, "isPrototypeOf")) { return false } } catch (f) { return false } var d; for (d in g) { } return d === c || Object.prototype.hasOwnProperty.call(g, d) }, Extend: function () { var m, k, e, i, j, l, d = arguments[0] || {}, f = 1, h = arguments.length, g = false; if (typeof d === "boolean") { g = d; d = arguments[1] || {}; f = 2 } if (typeof d !== "object" && !this.IsType(d, "function")) { d = {} } if (h === f) { d = this; --f } for (; f < h; f++) { if ((m = arguments[f]) != null) { for (k in m) { e = d[k]; i = m[k]; if (d === i) { continue } if (g && i && (this.IsPlainObject(i) || (j = this.IsType(i, "array")))) { if (j) { j = false; l = e && this.IsType(e, "array") ? e : [] } else { l = e && this.IsPlainObject(e) ? e : {} } d[k] = a.Extend(g, l, i) } else { if (i !== c) { d[k] = i } } } } } return d }, Each: function (j, k, f) { var e, g = 0, h = j.length, d = h === c || Cmn.IsType(j, "function"); if (f) { if (d) { for (e in j) { if (k.apply(j[e], f) === false) { break } } } else { for (; g < h;) { if (k.apply(j[g++], f) === false) { break } } } } else { if (d) { for (e in j) { if (k.call(j[e], e, j[e]) === false) { break } } } else { for (; g < h;) { if (k.call(j[g], g, j[g++]) === false) { break } } } } return j }, alert: function (d) { alert(d) } }; b["\u0043\u006d\u006e"] = b["\u0043\u0067"] = a.CreateCgInterface(); a.CreateCgInterface = c })(window); !(function () { Cmn.ImageProcess = new function () { this.Compress = function (f, e, b) { var a = function (h, l) { var k = Cmn.Extend({ Width: "", Height: "", Quality: "1", ImageType: "png" }, l); var j = document.createElement("canvas"), g = j.getContext("2d"), i = 1; if ((k.Width / h.naturalWidth || 0) > (k.Height / h.naturalHeight || 0)) { i = (k.Width / h.naturalWidth) } else { i = (k.Height / h.naturalHeight) } j.width = h.naturalWidth * i; j.height = h.naturalHeight * i; g.drawImage(h, 0, 0, h.naturalWidth, h.naturalHeight, 0, 0, j.width, j.height); return j.toDataURL("image/" + k, k.Quality) }; if (Cmn.IsType(f, "string")) { var d = new Image(); var c = function () { if (!d.IsComlete) { d.IsComlete = true; return false } b && b(a(d, e)) }; d.onload = c; d.src = f; if (d.complete) { c() } } else { if (f instanceof HTMLImageElement) { return a(f, e) } } } } })(); (function (b, c) { var a = 0; Cg.Extend({ Log: function (g, d) { try { console.log(g) } catch (f) { } if (a <= 3) { if (CmnAjax && InterfaceUrl) { CmnAjax.PostData(Cmn.Func.AddParamToUrl(InterfaceUrl, "method=WriteLog"), { ErrMsg: Cmn.Func.FormatJsonData(g) }, function (e) { if (e.IsSuccess === "1") { a = 0 } else { a = a + 1 } }, function () { a = a + 1 }) } } }, IsDebuging: null, DebugLogCache: "", DebugLog: function (i) { if (this.IsDebuging === false) { return } if (this.IsDebuging === null) { if (this.Func.GetParamFromUrl("ShowDebugLog") == "1") { this.IsDebuging = true } else { this.IsDebuging = false } } if (this.IsDebuging == true) { var f = new Date(); i = "[" + f.getHours() + ":" + f.getMinutes() + ":" + f.getSeconds() + "] " + i; try { console.log(i) } catch (h) { } if ($("body .DebugLog").length <= 0) { $("body").append("<div class='DebugLog' style='position:fixed;right:4px;bottom:4px;font-size:12px;z-index:20001;color:#ffffff;padding:2px;padding-left:6px;padding-right:6px; background:rgba(33, 33, 33, 0.4) none repeat scroll 0 0 !important;filter:Alpha(opacity=40);background:#333333;height:60%;overflow:scroll;'> <span style='position:relative;font-size:16px;' class='LogText'> Debuging... </span></div>"); $("body .DebugLog").off("touchstart").on("touchstart", function (l) { l.stopPropagation() }); $("body .DebugLog").off("click").on("click", function () { var e = $(this); if (e.hasClass("debugLogMini")) { e.css({ width: "100%" }).removeClass("debugLogMini") } else { e.css({ width: "10%" }).addClass("debugLogMini") } }) } var k = Cmn.DebugLogCache.split("<br/>"); var j = i; for (var g = 0; g < k.length && g < 15; g++) { j += "<br/>" + k[g] } Cmn.DebugLogCache = j; $("body .DebugLog .LogText").html(j); var d = $("body").width(); $("body .DebugLog .LogText").css("font-size", (14 + (d - 600) / 10 / 5) + "px") } } }) })(window); (function (window, undefined) { var Cmn_PostLogErrorCount = 0; Cg.Extend({ Cfg: { FillDataClassPrefix: "dat-", Paging: { First: ".pagFirst", Pre: ".pagPre", Next: ".pagNext", Last: ".pagLast", Num: ".pagNum", More: ".pagMore", Count: ".pagCount", ToPagInput: ".pagToPagInput", ToPagBtn: ".pagToPagBtn" }, LineSplitFotTemplate: "#s#", IsWebMethod: "Auto" }, FillHtmlCache: {}, GetFillHtml: function (containerSelector) { var _html = null; var _key = ""; if (Cmn.Func.IsString(containerSelector)) { _key = containerSelector; _html = Cmn.FillHtmlCache[_key] } else { _key = $(containerSelector).attr("cmnHtmlCacheKey"); if (_key == undefined || _key == "") { _key = Cmn.GetUUID(); $(containerSelector).attr("cmnHtmlCacheKey", Cmn.GetUUID()) } else { _html = Cmn.FillHtmlCache[_key] } } if (_html == null || _html == undefined) { _html = ""; $(containerSelector).each(function () { var _tmpHtml = Cmn.Func.GetOuterHtml($(this)); if (_tmpHtml != "") { if (_html != "") { _html += Cmn.Cfg.LineSplitFotTemplate } _html += _tmpHtml } $(this).hide() }); Cmn.FillHtmlCache[_key] = _html } return _html }, RemoveFillHtml: function (containerSelector) { Cmn.FillHtmlCache[containerSelector] = null }, FillDataByClass: function (containerSelector, dataJson) { if (!Cmn.Func.IsArray(dataJson)) { var _tmpDataJson = dataJson; dataJson = new Array(); dataJson[0] = _tmpDataJson } if (dataJson.length > 0) { for (var _key in dataJson[0]) { $(containerSelector + " ." + Cmn.Cfg.FillDataClassPrefix + _key).html(dataJson[0][_key]) } } return 1 }, FillRecDataToStr: function (strHtml, recData) { var _jsStr = ""; for (var _key in recData) { if (recData[_key] == null) { recData[_key] = "" } _jsStr += "var " + _key + "=recData['" + _key + "']; "; strHtml = Cmn.Func.SetDataToHtmlStr(strHtml, "dat-" + _key, recData[_key]); try { strHtml = strHtml.replace(new RegExp("{" + _key + "}", "g"), recData[_key]) } catch (err) { } } var _matchList = strHtml.match(/\scg\-dat((?=[\s+=])|(\-\w+))/g); if (_matchList != null) { var _jDom = $(strHtml); var _cgDat = []; for (var _i = 0; _i < _matchList.length; _i++) { var _tmpMatch = Cmn.Func.Trim(_matchList[_i]); if (_cgDat.indexOf(_tmpMatch) == -1) { _cgDat.push(_tmpMatch) } } var _FillJsDat = function (dom, attrName) { var _tmpVal = dom.attr(attrName); if (_tmpVal != "" && _tmpVal != undefined) { try { eval(_jsStr + " _tmpVal=" + _tmpVal + ";"); if (attrName == "cg-dat") { dom.html(_tmpVal) } else { dom.attr(attrName.replace("cg-dat-", ""), _tmpVal) } } catch (err) { } } }; for (var _i = 0; _i < _cgDat.length; _i++) { if (_jDom.attr(_cgDat[_i]) != undefined) { _FillJsDat(_jDom, _cgDat[_i]) } _jDom.find("[" + _cgDat[_i] + "]").each(function () { _FillJsDat($(this), _cgDat[_i]) }) } strHtml = Cmn.Func.GetOuterHtml(_jDom) } return strHtml }, FillData: function (containerSelector, dataJson, isAppend, isAutoAssignByHeight, exdParam) { if (typeof (isAppend) == "undefined") { isAppend = false } if (!Cmn.Func.IsArray(dataJson)) { var _tmpDataJson = dataJson; dataJson = new Array(); dataJson[0] = _tmpDataJson } if (Cmn.Func.IsArray(containerSelector)) { var _htmlArray = new Array(containerSelector.length); for (var _i = 0; _i < _htmlArray.length; _i++) { _htmlArray[_i] = Cmn.GetFillHtml(containerSelector[_i]).split(Cmn.Cfg.LineSplitFotTemplate) } var _retVal = new Array(containerSelector.length); var _tmpStr = ""; var _htmlArrayLoc = 0; var _htmlArrayListloc = -1; if (typeof (isAutoAssignByHeight) == "undefined") { isAutoAssignByHeight = false } else { if (isAutoAssignByHeight && isAppend) { _htmlArrayListloc = 100000 } } for (var _i = 0; _i < _retVal.length; _i++) { _retVal[_i] = "" } for (var _i = 0; _i < dataJson.length; _i++) { _htmlArrayListloc = _htmlArrayListloc + 1; if (_htmlArrayListloc >= _htmlArray[_htmlArrayLoc].length) { _htmlArrayListloc = 0; if (isAutoAssignByHeight && isAppend) { var _minHeight = $(containerSelector[0]).parent().height(); var _tmpHeight = 0; _htmlArrayLoc = 0; for (var _k = 1; _k < containerSelector.length; _k++) { _tmpHeight = $(containerSelector[_k]).parent().height(); if (_tmpHeight < _minHeight) { _minHeight = _tmpHeight; _htmlArrayLoc = _k } } } else { _htmlArrayLoc = _htmlArrayLoc + 1; if (_htmlArrayLoc >= _htmlArray.length) { _htmlArrayLoc = 0 } } } _tmpStr = _htmlArray[_htmlArrayLoc][_htmlArrayListloc]; _tmpStr = Cmn.FillRecDataToStr(_tmpStr, dataJson[_i]); _retVal[_htmlArrayLoc] += _tmpStr; if (isAppend && isAutoAssignByHeight) { $(_retVal[_htmlArrayLoc]).insertAfter($(containerSelector[_htmlArrayLoc]).last()); _retVal[_htmlArrayLoc] = "" } } if (exdParam && exdParam.IsAutoFill == "0") { return _retVal } if (isAppend) { if (!isAutoAssignByHeight) { for (var _i = 0; _i < containerSelector.length; _i++) { $(containerSelector[_i]).first().parent().append(_retVal[_i]) } } } else { for (var _i = 0; _i < _retVal.length; _i++) { if (_retVal[_i] == "") { $(containerSelector[_i]).hide() } else { var _hasSetContent = false; $(containerSelector[_i]).each(function () { if (_hasSetContent) { $(this).remove() } else { $(this).replaceWith(_retVal[_i]); _hasSetContent = true } }) } } } } else { var _html = Cmn.GetFillHtml(containerSelector); if (_html == null || _html == undefined) { $(containerSelector).hide(); return -1 } var _retVal = ""; var _tmpStr = ""; var _htmlList = _html.split(Cmn.Cfg.LineSplitFotTemplate); var _loc = 0; for (var _i = 0; _i < dataJson.length; _i++) { _tmpStr = _htmlList[_loc]; _loc = _loc + 1; if (_loc >= _htmlList.length) { _loc = 0 } _tmpStr = Cmn.FillRecDataToStr(_tmpStr, dataJson[_i]); _retVal += _tmpStr } if (exdParam && exdParam.IsAutoFill == "0") { return _retVal } if (isAppend) { $(_retVal).insertAfter($(containerSelector).last()) } else { if (dataJson.length < 1) { $(containerSelector).hide(); return -1 } var _hasSetContent = false; $(containerSelector).each(function () { if (_hasSetContent) { $(this).remove() } else { $(this).replaceWith(_retVal); _hasSetContent = true } }) } } return 1 }, CmnPagingList: new Array(), Paging: function (containerSelector, recCount, pageSize, pagingFunction) { this.containerSelector = containerSelector; this.RecCount = parseInt(recCount); this.PageSize = parseInt(pageSize); this.PagingFunction = pagingFunction; this.ShowNumCount = 5; this.MoreHtml = ""; this.ActiveClass = ""; this.CurrPage = 1; var _SmartHideButton = true; var _CycleNextPre = false; var _Self = this; Cmn.CmnPagingList[Cmn.CmnPagingList.length] = this; var pagingVarName = "Cmn.CmnPagingList[" + (Cmn.CmnPagingList.length - 1) + "]"; this.SetCycleNextPre = function (isCycle) { _CycleNextPre = isCycle; if (isCycle === true) { _SmartHideButton = false } this.ToPage(1, false) }; this.SetSmartHideButton = function (isSmartHideButton) { _SmartHideButton = isSmartHideButton; this.ToPage(1, false) }; this.GetPageCount = function () { return parseInt((this.RecCount + this.PageSize - 1) / this.PageSize) }; this.ToPage = function (pageNo, isExecPagingFunction) { pageNo = parseInt(pageNo); function SetPageNo(numHtml, pageNo) { if (numHtml.indexOf('onclick="onclick"') >= 0) { numHtml = numHtml.replace('onclick="onclick"', 'onclick="' + pagingVarName + ".ToPage(" + pageNo + ')"') } else { numHtml = numHtml.replace("onclick=onclick", 'onclick="' + pagingVarName + ".ToPage(" + pageNo + ')"') } numHtml = numHtml.replace("{num}", pageNo); return numHtml } var _container = $(containerSelector); var _PageCount = parseInt((this.RecCount + this.PageSize - 1) / this.PageSize); if (_PageCount == 0) { _PageCount = 1 } if (pageNo < 1) { pageNo = 1 } else { if (pageNo > _PageCount) { pageNo = _PageCount } } _container.find(Cmn.Cfg.Paging.First).unbind("click").bind("click", function () { _Self.ToPage(1) }); _container.find(Cmn.Cfg.Paging.Pre).unbind("click").bind("click", function () { _Self.ToPage((pageNo - 1 < 1 ? (_CycleNextPre ? _PageCount : 1) : pageNo - 1)) }); _container.find(Cmn.Cfg.Paging.Next).unbind("click").bind("click", function () { _Self.ToPage((pageNo + 1 > _PageCount ? (_CycleNextPre ? 1 : _PageCount) : pageNo + 1)) }); _container.find(Cmn.Cfg.Paging.Last).unbind("click").bind("click", function () { _Self.ToPage(_PageCount) }); _container.find(Cmn.Cfg.Paging.First).show(); _container.find(Cmn.Cfg.Paging.Pre).show(); _container.find(Cmn.Cfg.Paging.Next).show(); _container.find(Cmn.Cfg.Paging.Last).show(); if (_SmartHideButton) { if (pageNo == 1) { _container.find(Cmn.Cfg.Paging.First).hide(); _container.find(Cmn.Cfg.Paging.Pre).hide() } if (pageNo == _PageCount) { _container.find(Cmn.Cfg.Paging.Next).hide(); _container.find(Cmn.Cfg.Paging.Last).hide() } } _container.find(Cmn.Cfg.Paging.Num).first().attr("onclick", "onclick"); if (_container.find(Cmn.Cfg.Paging.Num).length) { _container.find(Cmn.Cfg.Paging.Num).first().html(_container.find(Cmn.Cfg.Paging.Num).first().html().replace(/\d+/, "{num}")) } if (this.ActiveClass != "") { _container.find(Cmn.Cfg.Paging.Num).first().removeClass(this.ActiveClass) } var _numHtml = Cmn.Func.GetOuterHtml(_container.find(Cmn.Cfg.Paging.Num).first()); var _numHtmlActive = _numHtml; if (this.ActiveClass != "") { _container.find(Cmn.Cfg.Paging.Num).first().addClass(this.ActiveClass); _numHtmlActive = Cmn.Func.GetOuterHtml(_container.find(Cmn.Cfg.Paging.Num).first()) } _container.find(Cmn.Cfg.Paging.Num).first().attr("id", "pagNum_Temp"); _container.find(Cmn.Cfg.Paging.Num + "[id!=pagNum_Temp]").remove(); if (this.MoreHtml == "") { _container.find(Cmn.Cfg.Paging.More).first().attr("onclick", "onclick"); this.MoreHtml = Cmn.Func.GetOuterHtml(_container.find(Cmn.Cfg.Paging.More).first()) } _container.find(Cmn.Cfg.Paging.More).remove(); var _numLst = ""; var _pageNo = pageNo - parseInt((this.ShowNumCount - 1) / 2) - ((_PageCount - pageNo) >= parseInt((this.ShowNumCount - 1) / 2) ? 0 : parseInt((this.ShowNumCount - 1) / 2) - (_PageCount - pageNo)); if (_pageNo < 1) { _pageNo = 1 } if (_pageNo > 1) { _numLst += SetPageNo(this.MoreHtml, _pageNo - 1) } var _i; for (_i = _pageNo; _i < _pageNo + this.ShowNumCount && _i <= _PageCount; _i++) { if (_i == pageNo) { _numLst += SetPageNo(_numHtmlActive, _i) } else { _numLst += SetPageNo(_numHtml, _i) } } if (_i - 1 < _PageCount) { _numLst += SetPageNo(this.MoreHtml, _i) } _container.find("#pagNum_Temp").replaceWith(_numLst); this.CurrPage = pageNo; if (isExecPagingFunction != false) { if (pagingFunction) { pagingFunction(pageNo) } } if (_SmartHideButton && _PageCount == 1) { _container.find(Cmn.Cfg.Paging.Num).hide() } else { _container.find(Cmn.Cfg.Paging.Num).show() } _container.find(Cmn.Cfg.Paging.Count).html(_Self.GetPageCount()) }; this.ToPage(1, false); var _tmpDom = $(containerSelector); _tmpDom.find(Cmn.Cfg.Paging.Count).html(_Self.GetPageCount()); _tmpDom.find(Cmn.Cfg.Paging.ToPagInput).val(""); _tmpDom.find(Cmn.Cfg.Paging.ToPagBtn).unbind("click").bind("click", function () { var _toPageNo = Cmn.Func.Trim(_tmpDom.find(Cmn.Cfg.Paging.ToPagInput).val()); if (_toPageNo == "") { Cmn.alert("请输入页码！"); return } if (isNaN(_toPageNo)) { Cmn.alert("请输入正确的页码！"); _tmpDom.find(Cmn.Cfg.Paging.ToPagInput).val(""); return } _Self.ToPage(parseInt(_toPageNo)); _tmpDom.find(Cmn.Cfg.Paging.ToPagInput).val("") }) } }) })(window); (function (a, b) { Cg.Extend(Cg.Object = {}, { Inherit: function (g, f, d) { var h = null, c = g.constructor.prototype, e = {}; if (g.constructor.name == "Object") { Cmn.Log("如果使用继承的话 最好使用 'XX.prototype.xxx=function(){}' 方式定义函数. 不要用这种'XX.prototype={xxx:function(){}}'. 后者将有可能导致prototype上面一些定义的函数丢失.") } for (h in c) { e[h] = 1 } for (h in f.prototype) { if (!e[h]) { c[h] = f.prototype[h] } } g.constructor.prototype.__proto__ = f.prototype; f.apply(g, d) }, IsType: function (d, c) { return Cg.IsType(d, c) }, Clone: function (c) { return JSON.parse(JSON.stringify(c)); if (typeof c === "object") { return Cmn.Each(c, function (d, e) { e = Cmn.Object.Clone(e) }) } else { return c } } }) })(window); (function (a, b) { Cg.Event = function (f) { var j = {}, g = this, c = "__Cg__EventHandleKey", h = [], i = f || this, e = new Array(); this.Add = function (p, l, o) { var k = p, n = l, m = o; if (arguments.length == 2) { k = arguments[0]; if (Cg.IsType(arguments[1], "string")) { n = arguments[1] } else { m = arguments[1] } } if (!!n) { p[c] = n; h[n] = "1" } else { p[c] = "__event__" + Cg.GetUUID() } if (!j[p[c]]) { e[e.length] = p[c] } j[p[c]] = { eventHandle: p, execDomain: m || i }; return this }; this.AddTriggerOne = function (l, k) { l[c] = "_eventkey_" + Cmn.GetUUID(); this.Add(function () { g.Remove(l[c]); l && l.call(this) }, l[c], k) }; var d = function (k) { for (var l = 0; l < e.length; l++) { if (e[l] == k) { e[l] = null; break } } }; this.Remove = function (l) { if (arguments.length == 0) { for (var k in j) { if (!h[k]) { delete j[k]; d(k) } } } else { for (var m = 0; m < arguments.length; m++) { if (Cg.IsType(arguments[m], "string")) { delete j[arguments[m]]; d(arguments[m]) } else { if (!!arguments[m][c]) { delete j[arguments[m][c]]; d(arguments[m][c]) } } } } return this }; this.Trigger = function (q, l, u, p) { var r = b, o = [], v = null, t = null, s = true; if (arguments.length == 3) { r = q; o = l; v = u; t = p } else { if (arguments.length == 2) { if (Cg.IsType(arguments[0], "array")) { o = arguments[0] } else { if (Cg.IsType(arguments[0], "function")) { r = arguments[0] } else { if (Cg.IsType(arguments[0], "string")) { r = arguments[0] } else { if (Cg.IsType(arguments[0], "object")) { t = arguments[0] } } } } if (Cg.IsType(arguments[1], "array")) { o = arguments[1] } else { if (Cg.IsType(arguments[1], "function")) { v = arguments[1] } else { if (Cg.IsType(arguments[1], "object")) { t = arguments[1] } } } } else { if (arguments.length == 1) { if (Cg.IsType(arguments[0], "array")) { o = arguments[0] } else { if (Cg.IsType(arguments[0], "function")) { r = arguments[0] } else { if (Cg.IsType(arguments[0], "string")) { r = arguments[0] } else { if (Cg.IsType(arguments[0], "object")) { t = arguments[0] } } } } } } } if (!r) { for (var n = 0; n < e.length; n++) { if (e[n] == null) { e.splice(n--, 1); continue } if (Cg.IsType(j[e[n]].eventHandle, "function")) { if (!!t) { j[e[n]].execDomain = t } var m = j[e[n]].eventHandle.apply(j[e[n]].execDomain, o); if (m === false) { s = false } v && v(m) } } } else { var k = null; if (Cg.IsType(r, "string")) { k = j[r] } else { if (Cg.IsType(r, "function") && Cg.IsType(j[r[c]].eventHandle, "function")) { k = j[r[c]] } } if (!!k) { if (!!t) { j[_handel].execDomain = t } var m = k.eventHandle.apply(k.execDomain, o); if (m === false) { s = false } v && v(m) } } return s } } })(window); (function (a, b) { Cg.Extend(Cg.Math = {}, { Random: function (d, c) { switch (arguments.length) { case 1: return parseInt(Math.random() * d + 1); case 2: return parseInt(Math.random() * (c - d + 1) + d); default: return 0 } }, Angle: function (i, f, e) { var d, c, k, j, g, l, h; d = f.x - i.x; k = f.y - i.y; c = e.x - i.x; j = e.y - i.y; g = d * c + k * j; l = (d * d + k * k) * (c * c + j * j); g /= Math.sqrt(l); if (g >= 1) { return 0 } if (g <= -1) { return Math.round(Math.PI) } h = Math.acos(g); if (180 * h / Math.PI < 180) { return Math.round(180 * h / Math.PI) } else { return Math.round(360 - 180 * h / Math.PI) } }, DistanceByPoint: function (d, c) { return Math.sqrt(Math.pow(((d.x - c.x) + (d.y - c.y)), 2)) }, TurnAngle: function (i, g, d) { var c = Math.sqrt((d.x - g.x) * (d.x - g.x) + (d.y - g.y) * (d.y - g.y)); var e = Math.sqrt((d.x - i.x) * (d.x - i.x) + (d.y - i.y) * (d.y - i.y)); var j = Math.sqrt((g.x - i.x) * (g.x - i.x) + (g.y - i.y) * (g.y - i.y)); var h = (i.y - g.y) / (i.x - g.x); var k = i.y - h * i.x; var f = h * d.x + k; if (f < d.y) { return 360 - Math.acos((e * e + j * j - c * c) / (2 * e * j)) * 180 / Math.PI } else { return Math.acos((e * e + j * j - c * c) / (2 * e * j)) * 180 / Math.PI } }, NumberMul: function (i, g) { var c = 0, f = i.toString(), d = g.toString(); try { c += f.split(".")[1].length } catch (h) { } try { c += d.split(".")[1].length } catch (h) { } return Number(f.replace(".", "")) * Number(d.replace(".", "")) / Math.pow(10, c) }, NumberDiv: function (j, h) { var g = 0, f = 0, d, c; try { g = j.toString().split(".")[1].length } catch (i) { } try { f = h.toString().split(".")[1].length } catch (i) { } d = Number(j.toString().replace(".", "")); c = Number(h.toString().replace(".", "")); return (d / c) * Math.pow(10, f - g) }, TwoDimensionalCubicBezier: function (m, l, k, j, n) { var d, h, f; var p, g, e; var i, c; var o = {}; f = 3 * (l.x - m.x); h = 3 * (k.x - l.x) - f; d = j.x - m.x - f - h; e = 3 * (l.y - m.y); g = 3 * (k.y - l.y) - e; p = j.y - m.y - e - g; i = n * n; c = i * n; o.x = (d * c) + (h * i) + (f * n) + m.x; o.y = (p * c) + (g * i) + (e * n) + m.y; return o }, ThreeDimensionalCubicBezier: function (l, k, h, f, m) { var i = 1 - m; var e = m * m; var j = i * i; var g = j * i; var c = e * m; var d = { x: l.x * g, y: l.y * g, z: l.z * g }; d = { x: d.x + 3 * j * m * k.x, y: d.y + 3 * j * m * k.y, z: d.z + 3 * j * m * k.z }; d = { x: d.x + 3 * i * e * h.x, y: d.y + 3 * i * e * h.y, z: d.z + 3 * i * e * h.z }; d = { x: d.x + c * f.x, y: d.y + c * f.y, z: d.z + c * f.z }; return d }, ThreeDimensionalRepeatedlyCubicBezier: function (h, e, d) { var f = 1 / parr.length; var g = f > 0 ? Math.floor(d / f) : 0; g = g >= parr.length ? g - 1 : g; var c = h; if (g > 0) { c = parr[g - 1][2] } return CalculateCubicBezierPoint(c, parr[g][0], parr[g][1], parr[g][2], (d % f) == 0 ? d : (d % f) / f) } }) })(window); (function (a, b) { Cg.Extend(Cg.Str = {}, { IsJosn: function () { }, SupportCss3: function (g) { var d = ["webkit", "Moz", "ms", "o"], h, f = [], c = document.documentElement.style, e = function (i) { return i.replace(/-(\w)/g, function (k, j) { return j.toUpperCase() }) }; for (h in d) { f.push(e(d[h] + "-" + g)) } f.push(e(g)); for (h in f) { if (f[h] in c) { return true } } return false }, GetCssPrefix: function () { var d = ["webkit", "Moz", "ms", "o"], f = "transform", g, c = document.documentElement.style, e = function (h) { return h.replace(/-(\w)/g, function (j, i) { return i.toUpperCase() }) }; for (g in d) { if (e(d[g] + "-" + f) in c) { return d[g] } } return "" }, GetCss3StyleName: function (f) { var d = ["webkit", "Moz", "ms", "o"], g, c = document.documentElement.style, e = function (h) { return h.replace(/-(\w)/g, function (j, i) { return i.toUpperCase() }) }; for (g in d) { if (e(d[g] + "-" + f) in c) { return "-" + d[g] + "-" + f } } return f }, GetSelectorName: function (c) { return c.replace(/[\s\S]*([\.]|[\#])/g, "") }, RemoveHTML: function (h, j, i, e) { var d = h || "", c = [], f = new RegExp("<[^{><}]*>", "g"); d = d.replace(/<\s*?br\s*?\/*\s*?>/gi, "#newlinesign#"); d = d.replace(/<\s*?\/\s*?p\s*?>/gi, "#newlinesign#"); d = d.replace(/<\s*?p\s*?>/gi, "#newlinesign#"); c = d.match(f); if (c && c.length && c.length > 0) { for (var g = 0; g < c.length; g++) { if (!(e === true && c[g].toLowerCase().indexOf("img") >= 0)) { d = d.replace(c[g], "") } } } if (!i) { d = d.replace(/&nbsp;/gi, " "); d = d.replace(/&ldquo;/gi, "“"); d = d.replace(/&rdquo;/gi, "”"); d = d.replace(/&lt;/gi, "<"); d = d.replace(/&gt;/gi, ">") } d = d.replace(new RegExp("#newlinesign#", "g"), (j == b ? "" : j)); return d }, FormatJsonData: function (f) { if (f == null) { return "" } if (Cmn.Object.IsType(f, "string")) { var c = ""; for (var e = 0; e < f.length; e++) { var d = f.charAt(e); switch (d) { case '"': c += '\\"'; break; case "'": c += "\\'"; break; case "\\": c += "\\\\"; break; case "/": c += "\\/"; break; case "\b": c += "\\b"; break; case "\f": c += "\\f"; break; case "\n": c += "\\n"; break; case "\r": c += "\\r"; break; case "\t": c += "\\t"; break; default: c += d } } return c } else { if (typeof f === "object") { $.each(f, function (g, h) { if (Cmn.Object.IsType(f[g], "string")) { f[g] = Cmn.Func.FormatJsonData(f[g]) } else { if (typeof f[g] == "object") { Cmn.Func.FormatJsonData(f[g]) } } }); return f } else { return "" } } }, FirstUppercase: function (c) { return c.replace(/\b(\w)|\s(\w)/g, function (d) { return d.toUpperCase() }) }, HtmlEncode: function (c) { return document.createElement("a").appendChild(document.createTextNode(c)).parentNode.innerHTML }, HtmlDecode: function (d) { var c = document.createElement("a"); c.innerHTML = d; return c.textContent }, Trim: function (c) { return (Cmn.IsType(c, "string") ? c : "").replace(/(^\s*)|(\s*$)/g, "") }, ToSqlStr: function (c) { return c.replace("'", "''") }, Base64Encode: function (k) { var j, h, f; var d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"; var g = 0, c = k.length, e = ""; while (g < c) { j = k.charCodeAt(g++) & 255; if (g == c) { e += d.charAt(j >> 2); e += d.charAt((j & 3) << 4); e += "=="; break } h = k.charCodeAt(g++); if (g == c) { e += d.charAt(j >> 2); e += d.charAt(((j & 3) << 4) | ((h & 240) >> 4)); e += d.charAt((h & 15) << 2); e += "="; break } f = k.charCodeAt(g++); e += d.charAt(j >> 2); e += d.charAt(((j & 3) << 4) | ((h & 240) >> 4)); e += d.charAt(((h & 15) << 2) | ((f & 192) >> 6)); e += d.charAt(f & 63) } return e }, Base64Decode: function (l) { var f, e, d, c; var j = new Array(-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1); var g = 0, k = l.length, h = ""; while (g < k) { do { f = j[l.charCodeAt(g++) & 255] } while (g < k && f == -1); if (f == -1) { break } do { e = j[l.charCodeAt(g++) & 255] } while (g < k && e == -1); if (e == -1) { break } h += String.fromCharCode((f << 2) | ((e & 48) >> 4)); do { d = l.charCodeAt(g++) & 255; if (d == 61) { return h } d = j[d] } while (g < k && d == -1); if (d == -1) { break } h += String.fromCharCode(((e & 15) << 4) | ((d & 60) >> 2)); do { c = l.charCodeAt(g++) & 255; if (c == 61) { return h } c = j[c] } while (g < k && c == -1); if (c == -1) { break } h += String.fromCharCode(((d & 3) << 6) | c) } return h }, Utf8Encode: function (h) { function e(k) { var n, m; var j = ""; var l = 0; while (l < k.length) { n = k.charCodeAt(l++); if (n >= 56320 && n < 57344) { continue } if (n >= 55296 && n < 56320) { if (l >= k.length) { continue } m = k.charCodeAt(l++); if (m < 56320 || n >= 56832) { continue } n = ((n - 55296) << 10) + (m - 56320) + 65536 } if (n < 128) { j += String.fromCharCode(n) } else { if (n < 2048) { j += String.fromCharCode(192 + (n >> 6), 128 + (n & 63)) } else { if (n < 65536) { j += String.fromCharCode(224 + (n >> 12), 128 + (n >> 6 & 63), 128 + (n & 63)) } else { j += String.fromCharCode(240 + (n >> 18), 128 + (n >> 12 & 63), 128 + (n >> 6 & 63), 128 + (n & 63)) } } } } return j } var d = "0123456789ABCDEF"; function c(i) { return d.charAt(i >> 4) + d.charAt(i & 15) } var g = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-"; function f(l) { var l = e(l); var m; var j = ""; for (var k = 0; k < l.length; k++) { if (g.indexOf(l.charAt(k)) == -1) { j += "%" + c(l.charCodeAt(k)) } else { j += l.charAt(k) } } return j } return e(h) }, Encryption: function (j, f) { if (!j) { return j } var g = f || "xmnfqaetsdngkasdtqweltgdshgaethqkretykalskdhtwerthkdjhgbaw", d = g.length, c = j.length, e = ""; for (var h = 0, i = 0; i < c; i++ , h++) { if (h >= d) { h = 0 } e += String.fromCharCode(j[i].charCodeAt(0) ^ g[h].charCodeAt(0)) } return Cmn.Str.Base64Encode(Cmn.Str.Utf8Encode(e)) } }) })(window); (function (a, b) { if (typeof (Cg.Encrypt) == "undefined") { Cg.Encrypt = {} } Cg.Extend(Cg.Encrypt.AES = {}, { _DEFAULT_KEY: "0321eb5ba1f75de4d1cd3471af7418a4", _IV: "8a21ebeba1f75de2d3cd3471af7418a8", Encode: function (g, c) { if (c == b || c == "") { c = Cg.Encrypt.AES._DEFAULT_KEY } c = CryptoJS.enc.Hex.parse(c); var e = CryptoJS.enc.Hex.parse(Cg.Encrypt.AES._IV); var d = CryptoJS.enc.Utf8.parse(g); var f = CryptoJS.AES.encrypt(d, c, { iv: e, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.ZeroPadding }); return f.toString() }, Decode: function (f, d) { if (d == b || d == "") { d = Cg.Encrypt.AES._DEFAULT_KEY } d = CryptoJS.enc.Hex.parse(d); var e = CryptoJS.enc.Hex.parse(Cg.Encrypt.AES._IV); var c = CryptoJS.AES.decrypt(f, d, { iv: e, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.ZeroPadding }); var g = c.toString(CryptoJS.enc.Utf8); return g.toString() } }) })(window); (function (a, c) { var b = a.$ || a.jQuery || ""; Cg.Extend(Cg.Func = {}, { GetOuterHtml: function (d) { return b("<div></div>").append(d.clone()).html() }, AddParamToAjaxData: function (d, e, f) { if (d == null || d == c || d == "") { d = "{}" } if (d.replace(" ", "").length > 2) { return d.replace("}", ",'" + e + "':'" + f + "'}") } else { return d.replace("}", "'" + e + "':'" + f + "'}") } }, AddParamToUrl: function (d, e) { d = Cmn.Func.DelParamFromUrl(d, e.split("=")[0]); if (d.indexOf("?") >= 0) { d += "&" + e } else { d += "?" + e } return d }, DelParamFromUrl: function (d, j) { if (d.indexOf("?") < 0) { return d } var l = d.indexOf("#"); var e = ""; if (l > 0) { e = d.substring(l); d = d.substring(0, l) } l = d.indexOf("?"); var k = d.substring(l); d = d.substring(0, l); var h = /(\w+)=([^&|^#]+)/g; var i = k.match(h); if (i) { for (var g = 0; g < i.length; g++) { var f = i[g]; if (f.split("=")[0] != j) { d += (d.indexOf("?") >= 0 ? "&" : "?") + f } } } return d + (e != "" ? e : "") }, SetDefaultUrlForGetParamFromUrl: function (d) { Cmn.Func._DefaultUrlForGetParamFromUrl = d }, GetParamFromUrl: function (h, e) { if (e == null || e == "" || typeof (e) == "undefind") { if (Cmn.Func._DefaultUrlForGetParamFromUrl) { e = Cmn.Func._DefaultUrlForGetParamFromUrl } else { e = a.location.href } } var d = ""; var g = new RegExp("[\\?\\s&]" + h + "\\s*=([^&#]*)"); var f = e.match(g); if (f != null) { d = f[1] } return Cmn.Func.Trim(d) }, GetParamListFromurl: function (e) { var d = {}; var g = e.indexOf("?"); if (g != -1) { e = e.substr(g + 1); var h = e.split("&"); for (var f = 0; f < h.length; f++) { g = h[f].indexOf("="); if (g != -1) { d[h[f].substr(0, g)] = decodeURIComponent(h[f].substr(g + 1)) } } } return d }, AddParamToUrlHashtag: function (d, e) { if (arguments.length == 1) { e = d; d = a.location.hash } d = Cmn.Func.DelParamFromUrlHashtag(d, e.split("=")[0]); if (d.indexOf("#") >= 0) { d += "&" + e } else { d += "#" + e } if (arguments.length == 1) { a.location.hash = d } return d }, DelParamFromUrlHashtag: function (e, h) { if (arguments.length == 1) { h = e; e = a.location.hash } if (e.indexOf("#") < 0) { return e } var d = e.substring(0, e.indexOf("#")); var i = e.substring(e.indexOf("#")); var g = new RegExp("[#\\s&]" + h + "\\s*=[^&]*"); var f = i.match(g); if (f != null) { i = Cmn.Func.Trim(i.replace(f[0], "")); if (i.length > 0) { if (i[0] == "&") { i = i.substring(1) } if (i[0] != "#") { i = "#" + i } } } d = d + i; if (arguments.length == 1) { a.location.hash = d } return d }, GetParamFromUrlHashtag: function (h, e) { if (e == null || e == "" || typeof (e) == "undefind") { e = a.location.href } e = e.substring(e.indexOf("#")); var d = ""; var g = new RegExp("[#\\s&]" + h + "\\s*=([^&]*)"); var f = e.match(g); if (f != null) { d = f[1] } return Cmn.Func.Trim(d) }, Trim: function (d) { return Cg.Str.Trim(d) }, RemoveHTML: function (e, g, f, d) { return Cg.Str.RemoveHTML(e, g, f, d) }, FormatJsonData: function (d) { return Cg.Str.FormatJsonData(d) }, JsonToStr: function (d) { if (Cmn.Func.IsString(d)) { return d } if (typeof JSON == "undefined") { CmnAjax.Func.LoadJs(Cmn.Func.GetRoot() + "Js/Json2.js") } return JSON.stringify(d) }, FirstUppercase: function (d) { return Cg.Str.FirstUppercase(d) }, IsWebMethod: function (d) { if (Cmn.Cfg.IsWebMethod == "Auto") { var e = Cmn.Func.DelParamFromUrl(d); var f = e.lastIndexOf("/"); if (f >= 0) { e = e.substring(f + 1) } if (e.indexOf(".") >= 0) { return false } else { return true } } else { return Cmn.Cfg.IsWebMethod } }, IsArray: function (d) { return Object.prototype.toString.apply(d) === "[object Array]" }, ShowPoupWin: function (f) { var h = b(f); var e = 50; var d = 50; var g = function () { e = (b(a).width() - h.width()) / 2; d = (b(a).height() - h.height()) / 2; if (e - 20 > 0) { e = e - 20 } if (d - 20 > 0) { d = d - 20 } h.css("top", d + b(a).scrollTop() + "px"); h.css("left", e + b(a).scrollLeft() + "px") }; g(); h.show(); b(a).scroll(function () { if (h.is(":visible")) { if (d) { h.css("top", d + b(a).scrollTop() + "px") } if (e) { h.css("left", e + b(a).scrollLeft() + "px") } } }); b(a).resize(function () { if (h.is(":visible")) { g() } }) }, SetDataToHtmlStr: function (d, m, j) { var q = ""; var i = "#data#"; var n = b(d); b.merge(n.filter("." + m), n.find("." + m)).html(""); d = ""; b(n).each(function () { d += this.outerHTML }); j = j + ""; for (var k = 0; ;) { var p = d.indexOf(m, k); if (p < 0) { break } if (d.charAt(p + m.length) == "-") { q = d.substring(p + m.length + 1); d = d.substring(0, p + m.length + 1); var f = "^\\S*?(?=[\\x22\\x27\\s]+?)"; var o = q.match(f)[0]; var r = d.lastIndexOf("<"); var g = d.substring(r); d = d.substring(0, r); r = q.indexOf(">"); g += q.substring(0, r); q = q.substring(r); r = o.indexOf("["); var l = ""; if (r >= 0) { l = o.substring(r + 1); l = l.substring(0, l.indexOf("]")); o = o.substring(0, r) } var e = g.match(new RegExp("\\s+" + o + "\\s*=\\s*\\x22[\\s\\S]*?\\x22")); var h = ""; if (e == null) { e = g.match(new RegExp("\\s+" + o + "\\s*=\\s*\\x27[\\s\\S]*?\\x27")); if (e == null) { e = g.match(new RegExp("\\s+" + o + "\\s*=\\S*?(?=[\\s>]|$)")); if (e != null) { h = e[0].replace(/\s*=/, "").replace(/\s/g, "") } } else { h = e[0].match(new RegExp("\\x27[\\s\\S]*?\\x27")); if (h != null) { h = h[0].replace(/'/g, "") } else { h = "" } } } else { h = e[0].match(new RegExp("\\x22[\\s\\S]*?\\x22")); if (h != null) { h = h[0].replace(/"/g, "") } else { h = "" } } if (e != null) { g = g.replace(e[0], " ") } if (o.toLowerCase() == "style" || o.toLowerCase() == "class") { if (o.toLowerCase() == "style" && l != "") { g += " " + o + "='" + h + l + ":" + i + ";'" } else { g += " " + o + "='" + h + " " + i + "'" } } else { g += " " + o + "='" + i + "'" } k = d.length + g.indexOf(m + "-" + o) + (m + "-" + o).length; d = d + g + q } else { if (d.charAt(p + m.length) == " " || d.charAt(p + m.length) == String.fromCharCode(34) || d.charAt(p + m.length) == String.fromCharCode(39) || d.charAt(p + m.length) == ">") { q = d.substring(p + m.length); d = d.substring(0, p + m.length); k = p + m.length; q = q.replace(/>[\s\S]*?</, ">" + i + "<"); d = d + q } else { k = p + m.length } } } return d.replace(/#data#/g, j) }, IsString: function (d) { if (typeof d == "undefined") { return false } if (typeof d == "string" || d.constructor == String) { return true } else { return false } }, SiteRoot: "/", GetRoot: function () { return Cmn.Func.SiteRoot }, SetRoot: function (d) { Cmn.Func.SiteRoot = d }, AddSiteRoot: function (d) { if (Cmn.Func.SiteRoot == "/") { return d } d = Cmn.Func.Trim(d); if (d.charAt(0) == "/") { if (Cmn.Func.SiteRoot.charAt(Cmn.Func.SiteRoot.length - 1) == "/") { return Cmn.Func.SiteRoot.substring(0, Cmn.Func.SiteRoot.length - 1) + d } else { return Cmn.Func.SiteRoot + d } } else { return d } }, GetAbsoluteUrl: function (d) { if (d.indexOf("http:") >= 0 || d.indexOf("https:") >= 0) { return d } var e = document.createElement("A"); e.href = d; d = e.href; return d }, GetMainDomain: function (d) { if (d == c || (d.indexOf("http:") < 0 && d.indexOf("https:") < 0)) { d = a.location.href } d = d.replace("http://", "").replace("https://", ""); var e = d.indexOf("/"); if (e >= 0) { d = d.substring(0, e) } return Cmn.Func.Trim(d) }, GetJsPath: function (g) { var f = document.getElementsByTagName("script"); var e = null; for (var d = 0; d < f.length; d++) { if (f[d].src.indexOf(g) != -1) { e = f[d]; break } } if (e != null) { var h = e.src; return h.replace(g, "") } return "" }, IsSameMainDomain: function (e, d) { if (d == c || d == null || d == "") { d = a.location.href } e = Cmn.Func.GetMainDomain(e); d = Cmn.Func.GetMainDomain(d); if (e.toLowerCase() == d.toLowerCase()) { return true } else { return false } }, HtmlEncode: function (d) { return Cg.Str.HtmlEncode(d) }, HtmlDecode: function (d) { return Cg.Str.HtmlDecode(d) }, GetParentOffset: function (d) { var e = b(d).parent(); if (e.css("position") == "absolute" || e.css("position") == "relative" || Cmn.IsType(e[0]) == "htmlbodyelement") { return e.offset() } return this.GetParentOffset(e) } }); Cg.Extend(Cg.Func, { IsIphone4: function () { if (Cmn.Func.IsIOS()) { var d = a.screen.width; var f = a.screen.height; var e = d / f; if (e > 0.6 && e < 0.7) { return true } } return false }, IsIphone5: function () { if (Cmn.Func.IsIOS()) { var d = a.screen.width; var f = a.screen.height; var e = d / f; if (e > 0.5 && e < 0.6) { return true } } return false }, IsAndroid: function () { return navigator.userAgent.match(/Android/i) ? true : false }, IsIOS: function () { return navigator.userAgent.match(/iPhone|iPad|iPod/i) ? true : false }, IsIPad: function () { return navigator.userAgent.match(/iPad/i) ? true : false }, IsIEMobile: function () { return navigator.userAgent.match(/IEMobile/i) ? true : false }, IsQQBrowser: function () { return navigator.userAgent.match(/QQ/i) ? true : false }, IsIE: function () { return navigator.userAgent.match(/MSIE|Trident/g) ? true : false }, BrowserVersion: function () { var d = navigator.userAgent.toLowerCase(); var e; (e = d.match(/msie ([\d.]+)/)) ? e = e[1] : (e = d.match(/firefox\/([\d.]+)/)) ? e = e[1] : (e = d.match(/chrome\/([\d.]+)/)) ? e = e[1] : (e = d.match(/opera.([\d.]+)/)) ? e = e[1] : (e = d.match(/version\/([\d.]+).*safari/)) ? e = e[1] : 0; return e }, IsBlackBerry: function () { return navigator.userAgent.match(/BlackBerry/i) ? true : false }, IsMobile: function () { return (Cmn.Func.IsAndroid() || Cmn.Func.IsIOS() || Cmn.Func.IsIEMobile() || Cmn.Func.IsBlackBerry()) }, IsWeiXin: function () { return navigator.userAgent.match(/MicroMessenger/i) ? true : false } }); Cg.Extend(Cg.Func.Cookie = {}, { _CookiePrefix: "", Set: function (d, h, g, k, j, i) { d = Cg.Func.Cookie._CookiePrefix + d; var e = new Date(); k = k || 3; e.setDate(e.getDate() + k); j = j || "/"; var f = d + "=" + encodeURI(h) + ((e) ? ";expires=" + e.toGMTString() : "") + ((j) ? ";path=" + j : "") + ((g) ? ";domain=" + g : "") + ((i) ? ";secure" : ""); document.cookie = f }, Get: function (e) { e = Cg.Func.Cookie._CookiePrefix + e; if (document.cookie.length > 0) { var f = document.cookie.indexOf(e + "="); if (f != -1) { f = f + e.length + 1; var d = document.cookie.indexOf(";", f); if (d == -1) { d = document.cookie.length } return decodeURI(document.cookie.substring(f, d)) } } return "" }, SetPrefix: function (d) { Cg.Func.Cookie._CookiePrefix = Cmn.Func.Trim(d) }, GetPrefix: function () { return Cg.Func.Cookie._CookiePrefix } }) })(window); (function (a, c) { var b = function (e) { var d = new RegExp(this.Regular); return d.test(e) }; Cg.Extend({ NewCheckInfo: function (d, e, f) { return { Regular: d, ErrMsg: e, RequiredErrMsg: f } }, CheckValid: function (d, f) { if (d.RequiredErrMsg && d.RequiredErrMsg != "") { if (Cmn.Func.Trim(f) == "") { return d.RequiredErrMsg } } var e = new RegExp(d.Regular.Regular); if (!e.test(f)) { if (d.ErrMsg && d.ErrMsg != "") { return d.ErrMsg } else { return d.Regular.ErrMsg } } return true }, Regular: { Email: { Regular: "^w+((-w+)|(.w+))*@w+((.|-)w+)*.w+$", ErrMsg: "请输入正确的Email地址！", Test: b }, MobilePhone: { Regular: "^1[0-9]{10}$", ErrMsg: "请输入正确的手机号码！", Test: b } }, VerifyWay: { Tel: /\_d{3}-\d{8}|\d{4}-\d{7}/, Phone: /^1\d{10}$/, IsInt: /^(-|\+)?\d+$/, DateTime: function (f) { var e = f.match(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/); if (e == null) { return false } var d = new Date(e[1], e[3] - 1, e[4], e[5], e[6], e[7]); return (d.getFullYear() == e[1] && (d.getMonth() + 1) == e[3] && d.getDate() == e[4] && d.getHours() == e[5] && d.getMinutes() == e[6] && d.getSeconds() == e[7]) }, Date: function (f) { var e = f.match(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2})$/); if (e == null) { return false } var d = new Date(e[1], e[3] - 1, e[4]); return (d.getFullYear() == e[1] && d.getMonth() + 1 == e[3] && d.getDate() == e[4]) }, Email: /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/, QQ: /[1-9][0-9]{4,}/, IdCard: /\d{15}|\d{18}/, NotEmpty: function (d) { if (!!d) { return true } return false } }, VerifyValid: function (d, e) { if (Cg.IsType(d, "string") && d != "") { d = this.VerifyWay[d] } if (Cg.IsType(d, "regexp")) { return d.test(e) } else { if (Cg.IsType(d, "function")) { return d(e) } } return false } }) })(window); (function (b, d) { var a = new function () { this.callback = function () { }; var j = d, h = d, f = d, k = 0, g = navigator.userAgent, e = this; if (b.webkitRequestAnimationFrame) { h = function (l) { if (l === d) { l = +new Date() } e.callback(l) }; j = b.webkitRequestAnimationFrame; b.webkitRequestAnimationFrame = function (l, m) { e.callback = l; j(h, m) } } if (b.mozRequestAnimationFrame) { var i = g.indexOf("rv:"); if (g.indexOf("Gecko") != -1) { k = g.substr(i + 3, 3); if (k === "2.0") { b.mozRequestAnimationFrame = d } } } return b.requestAnimationFrame || b.webkitRequestAnimationFrame || b.mozRequestAnimationFrame || b.oRequestAnimationFrame || b.msRequestAnimationFrame || function (l, m) { var n, o; b.setTimeout(function () { n = +new Date(); l(n); o = +new Date(); e.timeout = 1000 / 60 - (o - n) }, e.timeout) } }; var c = b.cancelRequestAnimationFrame || b.webkitCancelAnimationFrame || b.webkitCancelRequestAnimationFrame || b.mozCancelRequestAnimationFrame || b.oCancelRequestAnimationFrame || b.msCancelRequestAnimationFrame || b.clearTimeout; Cg.Extend(Cg.Animate = {}, { BrowserFrame: { RequestAnimateFrame: function (e) { return a(e) }, CancelRequestAnimateFrame: function (e) { c(e) } }, Timeline: { TimelineEvent: null, TimelineOnlyKey: null, EventHeaderCfgList: {}, Add: function (f, e) { if (this.TimelineEvent == null) { this.TimelineEvent = new Cg.Event(this) } var g = "timeline_" + Cg.GetUUID(); this.TimelineEvent.Add(f, g); f.__cg_eventHandleKey = g; this.EventHeaderCfgList[g] = { Key: g, IsMonitor: true, Then: Date.now(), Interval: e }; if (this.TimelineOnlyKey == null) { this.Monitor() } return this }, Monitor: function () { var e = this, g = null, f = null; var h = function () { e.TimelineOnlyKey = Cg.Animate.BrowserFrame.RequestAnimateFrame(h); if (e.TimelineEvent != null) { $.each(e.EventHeaderCfgList, function () { var i = this; if (!i.IsMonitor) { return } if (!!i.Interval) { g = Date.now(); f = g - i.Then; if (f > i.Interval) { i.Then = g - (f % i.Interval); e.TimelineEvent.Trigger(i.Key) } } else { e.TimelineEvent.Trigger(i.Key) } }) } }; Cg.Animate.BrowserFrame.RequestAnimateFrame(h) }, Close: function () { Cg.Animate.BrowserFrame.CancelRequestAnimateFrame(this.TimelineOnlyKey) }, Start: function (e) { if (arguments.length > 0) { this.EventHeaderCfgList[e.__cg_eventHandleKey].IsMonitor = true } else { $.each(this.EventHeaderCfgList, function () { this.IsMonitor = true }) } return this }, Stop: function (e) { if (arguments.length > 0) { this.EventHeaderCfgList[e.__cg_eventHandleKey].IsMonitor = false } else { $.each(this.EventHeaderCfgList, function () { this.IsMonitor = false }) } }, Remove: function (e) { if (this.TimelineEvent != null) { if (arguments.length > 0) { this.TimelineEvent.Remove(e); if (!!e.__cg_eventHandleKey) { delete this.EventHeaderCfgList.__cg_eventHandleKey } } else { this.TimelineEvent.Remove(); this.EventHeaderCfgList = {} } } return this }, RemoveAll: function () { this.Remove(); return this } } }); Cmn.Am = Cmn.Animate })(window); Cg.ErrMsg = function (b, a) { this.Msg = b; this.ErrMsg = b; this.ErrCode = a }; (function (a) { Cmn.PageLockPassWord = "0032"; Cmn.PageIsLock = false; if (!$) { Cg.alert("请引用jquery!"); return } if (a.Get("PageLockPwdInput") === Cmn.PageLockPassWord) { return } var b = "<style>.Cmn_AccessPwdPopWrap { z-index:99999; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #000; overflow: hidden; }.Cmn_AccessPwdPopCon { position: absolute; top: 50%; width: 40%; left: 50%; transform: translate(-50%,-50%); -webkit-transform: translate(-50%,-50%); -moz-transform: translate(0,-50%); -ms-transform: translate(-50%,-50%); }.Cmn_ShowNum, .Cmn_ShowNum input, .Cmn_AccessPwdNum, .Cmn_AccessPwdNumList, .cmn_Delete { font-size:25px; }.Cmn_ShowNum { width: 90%; margin: auto; display: block; text-align: center; padding: 2% 0%; color: #fff; background: #494949; border-radius: 6px; position: relative; }.Cmn_ShowNum input {    text-indent: 2%; width: 100%;height:100%; background: none; color: #fff; border:none;margin:0;}.cmn_Delete { position: absolute; right:2%; top: 50%;cursor:pointer; -webkit-transform: translate(0,-50%); -o-transform: translate(0,-50%); -moz-transform: translate(0,-50%);transform: translate(0,-50%); }.Cmn_AccessPwdNum { width: 100%; margin: auto;text-align:center; margin-top: 2%; border-radius: 6px; position: relative;  }.Cmn_AccessPwdNumList { padding: 8% 10%;cursor:pointer; font-weight: bold; text-align: center; background: #2C2C2C; color: #DDDDDD; border-radius: 8px; display: inline-block; margin: 1%; min-width: 10px; }.Cmn_AccessPwdNumList:hover { background: #4C3838; }@media screen and (max-width:950px) {.Cmn_ShowNum, .Cmn_ShowNum input, .cmn_Delete { font-size: 20px; }.Cmn_AccessPwdPopCon { width: 90%; }.Cmn_AccessPwdNumList { padding:3% 8%; }}@media all and (orientation : landscape) {.Cmn_AccessPwdPopCon { width: 50%; }.Cmn_AccessPwdNumList { padding: 5% 9%; }}</style>"; var d = '<div class="Cmn_AccessPwdPopWrap"><div class="Cmn_AccessPwdPopCon"> <div class="Cmn_ShowNum"><input type="tel" disabled="disabled" placeholder="请输入测试访问密码" maxlength="11" /><div class="cmn_Delete">删除</div></div><div class="Cmn_AccessPwdNum">'; for (var c = 0; c < 10; c++) { d += '<div class="Cmn_AccessPwdNumList">' + c + "</div>" } d += "</div></div></div>"; $(function () { if (Cmn.PageIsLock) { $("head").append(b); $("body").append(d); var e = $(".Cmn_ShowNum input"); $(".Cmn_AccessPwdNum .Cmn_AccessPwdNumList").on("touchstart", function () { e.val(e.val() + $(this).text()); if (e.val() == Cmn.PageLockPassWord) { $(".Cmn_AccessPwdPopWrap").remove() } }); $(".Cmn_ShowNum .cmn_Delete").on("touchstart", function () { if (e.val().length > 0) { e.val(e.val().substring(0, e.val().length - 1)) } }) } }) })(Cmn.Func.Cookie); (function (e) { var m = function (p, o) { return (p << o) | (p >>> (32 - o)) }; var a = function (s, p) { var u, o, r, t, q; r = (s & 2147483648); t = (p & 2147483648); u = (s & 1073741824); o = (p & 1073741824); q = (s & 1073741823) + (p & 1073741823); if (u & o) { return (q ^ 2147483648 ^ r ^ t) } if (u | o) { if (q & 1073741824) { return (q ^ 3221225472 ^ r ^ t) } else { return (q ^ 1073741824 ^ r ^ t) } } else { return (q ^ r ^ t) } }; var n = function (o, q, p) { return (o & q) | ((~o) & p) }; var l = function (o, q, p) { return (o & p) | (q & (~p)) }; var j = function (o, q, p) { return (o ^ q ^ p) }; var i = function (o, q, p) { return (q ^ (o | (~p))) }; var g = function (q, p, v, u, o, r, t) { q = a(q, a(a(n(p, v, u), o), t)); return a(m(q, r), p) }; var c = function (q, p, v, u, o, r, t) { q = a(q, a(a(l(p, v, u), o), t)); return a(m(q, r), p) }; var h = function (q, p, v, u, o, r, t) { q = a(q, a(a(j(p, v, u), o), t)); return a(m(q, r), p) }; var d = function (q, p, v, u, o, r, t) { q = a(q, a(a(i(p, v, u), o), t)); return a(m(q, r), p) }; var f = function (r) { var v; var q = r.length; var p = q + 8; var u = (p - (p % 64)) / 64; var t = (u + 1) * 16; var w = Array(t - 1); var o = 0; var s = 0; while (s < q) { v = (s - (s % 4)) / 4; o = (s % 4) * 8; w[v] = (w[v] | (r.charCodeAt(s) << o)); s++ } v = (s - (s % 4)) / 4; o = (s % 4) * 8; w[v] = w[v] | (128 << o); w[t - 2] = q << 3; w[t - 1] = q >>> 29; return w }; var b = function (r) { var q = "", o = "", s, p; for (p = 0; p <= 3; p++) { s = (r >>> (p * 8)) & 255; o = "0" + s.toString(16); q = q + o.substr(o.length - 2, 2) } return q }; var k = function (p) { p = p.replace(/\x0d\x0a/g, "\x0a"); var o = ""; for (var r = 0; r < p.length; r++) { var q = p.charCodeAt(r); if (q < 128) { o += String.fromCharCode(q) } else { if ((q > 127) && (q < 2048)) { o += String.fromCharCode((q >> 6) | 192); o += String.fromCharCode((q & 63) | 128) } else { o += String.fromCharCode((q >> 12) | 224); o += String.fromCharCode(((q >> 6) & 63) | 128); o += String.fromCharCode((q & 63) | 128) } } } return o }; e.extend({ md5: function (o) { var v = Array(); var G, H, p, u, F, Q, P, N, K; var D = 7, B = 12, z = 17, w = 22; var O = 5, L = 9, J = 14, I = 20; var t = 4, s = 11, r = 16, q = 23; var E = 6, C = 10, A = 15, y = 21; o = k(o); v = f(o); Q = 1732584193; P = 4023233417; N = 2562383102; K = 271733878; for (G = 0; G < v.length; G += 16) { H = Q; p = P; u = N; F = K; Q = g(Q, P, N, K, v[G + 0], D, 3614090360); K = g(K, Q, P, N, v[G + 1], B, 3905402710); N = g(N, K, Q, P, v[G + 2], z, 606105819); P = g(P, N, K, Q, v[G + 3], w, 3250441966); Q = g(Q, P, N, K, v[G + 4], D, 4118548399); K = g(K, Q, P, N, v[G + 5], B, 1200080426); N = g(N, K, Q, P, v[G + 6], z, 2821735955); P = g(P, N, K, Q, v[G + 7], w, 4249261313); Q = g(Q, P, N, K, v[G + 8], D, 1770035416); K = g(K, Q, P, N, v[G + 9], B, 2336552879); N = g(N, K, Q, P, v[G + 10], z, 4294925233); P = g(P, N, K, Q, v[G + 11], w, 2304563134); Q = g(Q, P, N, K, v[G + 12], D, 1804603682); K = g(K, Q, P, N, v[G + 13], B, 4254626195); N = g(N, K, Q, P, v[G + 14], z, 2792965006); P = g(P, N, K, Q, v[G + 15], w, 1236535329); Q = c(Q, P, N, K, v[G + 1], O, 4129170786); K = c(K, Q, P, N, v[G + 6], L, 3225465664); N = c(N, K, Q, P, v[G + 11], J, 643717713); P = c(P, N, K, Q, v[G + 0], I, 3921069994); Q = c(Q, P, N, K, v[G + 5], O, 3593408605); K = c(K, Q, P, N, v[G + 10], L, 38016083); N = c(N, K, Q, P, v[G + 15], J, 3634488961); P = c(P, N, K, Q, v[G + 4], I, 3889429448); Q = c(Q, P, N, K, v[G + 9], O, 568446438); K = c(K, Q, P, N, v[G + 14], L, 3275163606); N = c(N, K, Q, P, v[G + 3], J, 4107603335); P = c(P, N, K, Q, v[G + 8], I, 1163531501); Q = c(Q, P, N, K, v[G + 13], O, 2850285829); K = c(K, Q, P, N, v[G + 2], L, 4243563512); N = c(N, K, Q, P, v[G + 7], J, 1735328473); P = c(P, N, K, Q, v[G + 12], I, 2368359562); Q = h(Q, P, N, K, v[G + 5], t, 4294588738); K = h(K, Q, P, N, v[G + 8], s, 2272392833); N = h(N, K, Q, P, v[G + 11], r, 1839030562); P = h(P, N, K, Q, v[G + 14], q, 4259657740); Q = h(Q, P, N, K, v[G + 1], t, 2763975236); K = h(K, Q, P, N, v[G + 4], s, 1272893353); N = h(N, K, Q, P, v[G + 7], r, 4139469664); P = h(P, N, K, Q, v[G + 10], q, 3200236656); Q = h(Q, P, N, K, v[G + 13], t, 681279174); K = h(K, Q, P, N, v[G + 0], s, 3936430074); N = h(N, K, Q, P, v[G + 3], r, 3572445317); P = h(P, N, K, Q, v[G + 6], q, 76029189); Q = h(Q, P, N, K, v[G + 9], t, 3654602809); K = h(K, Q, P, N, v[G + 12], s, 3873151461); N = h(N, K, Q, P, v[G + 15], r, 530742520); P = h(P, N, K, Q, v[G + 2], q, 3299628645); Q = d(Q, P, N, K, v[G + 0], E, 4096336452); K = d(K, Q, P, N, v[G + 7], C, 1126891415); N = d(N, K, Q, P, v[G + 14], A, 2878612391); P = d(P, N, K, Q, v[G + 5], y, 4237533241); Q = d(Q, P, N, K, v[G + 12], E, 1700485571); K = d(K, Q, P, N, v[G + 3], C, 2399980690); N = d(N, K, Q, P, v[G + 10], A, 4293915773); P = d(P, N, K, Q, v[G + 1], y, 2240044497); Q = d(Q, P, N, K, v[G + 8], E, 1873313359); K = d(K, Q, P, N, v[G + 15], C, 4264355552); N = d(N, K, Q, P, v[G + 6], A, 2734768916); P = d(P, N, K, Q, v[G + 13], y, 1309151649); Q = d(Q, P, N, K, v[G + 4], E, 4149444226); K = d(K, Q, P, N, v[G + 11], C, 3174756917); N = d(N, K, Q, P, v[G + 2], A, 718787259); P = d(P, N, K, Q, v[G + 9], y, 3951481745); Q = a(Q, H); P = a(P, p); N = a(N, u); K = a(K, F) } var M = b(Q) + b(P) + b(N) + b(K); return M.toLowerCase() } }) })(jQuery);
